from time import time
import multiprocessing as mp
for num_workers in tqdm(range(0, mp.cpu_count())):  
  print('1')
  start = time()
  train_loader = DataLoader(train_dataset,shuffle=True,num_workers=num_workers,batch_size=4,pin_memory=True, drop_last = True)
  for epoch in range(1, 3):
      for i, data in enumerate(train_loader, 0):
        end = time()
        print("Finish with:{} second, num_workers={}".format(end - start, num_workers))
        pass